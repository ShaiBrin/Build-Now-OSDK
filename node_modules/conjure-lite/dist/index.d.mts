/** @public */
interface ConjureContext {
  fetchFn?: typeof fetch;
  tokenProvider?: () => Promise<string>;
  baseUrl: string;
  servicePath: string;
}

/**
 * @public
 */
declare function conjureFetch<T>(
  { fetchFn, baseUrl, servicePath, tokenProvider }: ConjureContext,
  url: string,
  method: string,
  body?: ArrayBuffer | Blob | FormData | URLSearchParams | null | string | {},
  params?: {
    [key: string]: string | number | boolean | any[] | undefined | null;
  },
  contentType?: "application/json" | "application/octet-stream",
  accept?: "application/json" | "application/octet-stream",
): Promise<T>;

export { type ConjureContext, conjureFetch };
