{"version":3,"file":"wireObjectTypeFullMetadataToSdkObjectMetadata.test.js","names":["describe","expect","it","wireObjectTypeFullMetadataToSdkObjectMetadata","result","implementsInterfaces","implementsInterfaces2","linkTypes","objectType","apiName","description","displayName","pluralDisplayName","icon","type","name","color","primaryKey","properties","dataType","otherKey","nullable","defaulted","rid","status","titleProperty","sharedPropertyTypeMapping","toBe"],"sources":["wireObjectTypeFullMetadataToSdkObjectMetadata.test.js"],"sourcesContent":["/*\n * Copyright 2024 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { describe, expect, it } from \"vitest\";\nimport { wireObjectTypeFullMetadataToSdkObjectMetadata } from \"./wireObjectTypeFullMetadataToSdkObjectMetadata.js\";\ndescribe(wireObjectTypeFullMetadataToSdkObjectMetadata, () => {\n    it(\"handles magic nullable properties\", () => {\n        const result = wireObjectTypeFullMetadataToSdkObjectMetadata({\n            implementsInterfaces: [],\n            implementsInterfaces2: {},\n            linkTypes: [],\n            objectType: {\n                apiName: \"apiName\",\n                description: \"description\",\n                displayName: \"displayName\",\n                pluralDisplayName: \"displayNames\",\n                icon: { type: \"blueprint\", name: \"blueprint\", color: \"blue\" },\n                primaryKey: \"primaryKey\",\n                properties: {\n                    primaryKey: { dataType: { type: \"string\" } },\n                    otherKey: { nullable: false, dataType: { type: \"string\" } },\n                    defaulted: { dataType: { type: \"string\" } },\n                },\n                rid: \"rid\",\n                status: \"ACTIVE\",\n                titleProperty: \"otherKey\",\n            },\n            sharedPropertyTypeMapping: {},\n        }, true);\n        // PK is never nullable\n        expect(result.properties[\"primaryKey\"].nullable).toBe(false);\n        // was specified above\n        expect(result.properties[\"otherKey\"].nullable).toBe(false);\n        // was unspecified, so should be nullable\n        expect(result.properties[\"defaulted\"].nullable).toBe(true);\n    });\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,EAAE,QAAQ,QAAQ;AAC7C,SAASC,6CAA6C,QAAQ,oDAAoD;AAClHH,QAAQ,CAACG,6CAA6C,EAAE,MAAM;EAC1DD,EAAE,CAAC,mCAAmC,EAAE,MAAM;IAC1C,MAAME,MAAM,GAAGD,6CAA6C,CAAC;MACzDE,oBAAoB,EAAE,EAAE;MACxBC,qBAAqB,EAAE,CAAC,CAAC;MACzBC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE;QACRC,OAAO,EAAE,SAAS;QAClBC,WAAW,EAAE,aAAa;QAC1BC,WAAW,EAAE,aAAa;QAC1BC,iBAAiB,EAAE,cAAc;QACjCC,IAAI,EAAE;UAAEC,IAAI,EAAE,WAAW;UAAEC,IAAI,EAAE,WAAW;UAAEC,KAAK,EAAE;QAAO,CAAC;QAC7DC,UAAU,EAAE,YAAY;QACxBC,UAAU,EAAE;UACRD,UAAU,EAAE;YAAEE,QAAQ,EAAE;cAAEL,IAAI,EAAE;YAAS;UAAE,CAAC;UAC5CM,QAAQ,EAAE;YAAEC,QAAQ,EAAE,KAAK;YAAEF,QAAQ,EAAE;cAAEL,IAAI,EAAE;YAAS;UAAE,CAAC;UAC3DQ,SAAS,EAAE;YAAEH,QAAQ,EAAE;cAAEL,IAAI,EAAE;YAAS;UAAE;QAC9C,CAAC;QACDS,GAAG,EAAE,KAAK;QACVC,MAAM,EAAE,QAAQ;QAChBC,aAAa,EAAE;MACnB,CAAC;MACDC,yBAAyB,EAAE,CAAC;IAChC,CAAC,EAAE,IAAI,CAAC;IACR;IACAzB,MAAM,CAACG,MAAM,CAACc,UAAU,CAAC,YAAY,CAAC,CAACG,QAAQ,CAAC,CAACM,IAAI,CAAC,KAAK,CAAC;IAC5D;IACA1B,MAAM,CAACG,MAAM,CAACc,UAAU,CAAC,UAAU,CAAC,CAACG,QAAQ,CAAC,CAACM,IAAI,CAAC,KAAK,CAAC;IAC1D;IACA1B,MAAM,CAACG,MAAM,CAACc,UAAU,CAAC,WAAW,CAAC,CAACG,QAAQ,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;EAC9D,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]}